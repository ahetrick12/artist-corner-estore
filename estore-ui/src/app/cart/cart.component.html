<head>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap"
    rel="stylesheet"
  />
</head>
<body>
  <div id="titl">Cart</div>
  <div *ngIf="cart.length != 0; else no_items">
    <table id="center">
      <tr>
        <th>Item</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th>Remove</th>
      </tr>

      <tr class="items"></tr>
      <tr *ngFor="let cartitem of cart">
        <th>
          <figure>
            <img src="../../assets/images/placeholder.jpg" class="storeimg" />
            <figcaption>{{ cartitem.item.name }}</figcaption>
          </figure>
        </th>
        <th>{{ cartitem.item.price | currency }}</th>
        <th>
          <input
            [(ngModel)]="cartitem.quantity"
            (ngModelChange)="save(cartitem)"
            (keyup)="validateInput(cartitem)"
            id="quantity"
            type="number"
            value="{{ cartitem.quantity }}"
            min="0"
            max="{{ cartitem.item.stock }}"
          />
          <!--<br /><button class="button" id="update" (click)="save(cartitem)">
            save
          </button>-->
        </th>
        <th>{{ cartitem.quantity * cartitem.item.price | currency }}</th>
        <th>
          <button id="remove" (click)="onDelete(cartitem)">
            <b>&#10006;</b>
          </button>
        </th>
      </tr>
    </table>
    <div id="checkout">
      <h2>Total: {{ findSum() | currency }}</h2>
      <div>
        <a routerLink="/checkout">
          <button class="button" id="checkout-button">Checkout</button>
        </a>
      </div>
    </div>
  </div>
  <ng-template #no_items> <p style="text-align: center;">Your cart is currently empty. Add some items!</p></ng-template>
</body>
